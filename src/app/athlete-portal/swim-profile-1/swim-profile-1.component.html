<div class="main onboarding-process">
  <div class="container green-borders">
    <div class="row">
      <div class="col-lg-6 col-xl-6 offset-lg-3">
        <div class="box shadow-lg rounded-lg mb-4">
          <div class="box-content">
            <div class="logo-wrapper text-center">
              <div class="d-flex align-items-center">
                <div class="tridot-scores-connected w-100">
                  <li class="active">
                    <div class="tridot-score swim score-lg static active"></div>
                  </li>
                  <li>
                    <div class="tridot-score bike score-lg static"></div>
                  </li>
                  <li>
                    <div class="tridot-score run score-lg static"></div>
                  </li>
                  <li>
                    <div class="tridot-score checkmark static score-lg"></div>
                  </li>
                </div>
              </div>
            </div>
            <div class="header-wrapper text-center">
              <h2 class="mb-1">Complete Your
                <span class="swim-color">Swim Fitness</span> Profile
              </h2>
              <div class="alert-info p-3 mb-3 rounded mt-3">
                  Estimate your swim ability below to determine your preliminary TriDot Score (1-100) for swimming (your <strong>SwimDot</strong>) and provide your high-level training history.  Your answers should be close, but don't need to be exact.
              </div>
            </div>
            <div class="form-wrapper">
              <div class="row justify-content-center">
                <div class="col-12">
                  <form [formGroup]="swimprofile1Form" #form="ngForm">
                    <div class="row">
                      <div class="col">
                        <label for="">
                          Estimate your current best time for:
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col pr-2 mb-3">

                        <select class="custom-select custom-select-lg text-md {{form.submitted ? swimprofile1Form.get('swimDistance').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}"
                          [(ngModel)]="profile.swimDistance"
                          formControlName="swimDistance">
                          <option value="" disabled>Select Distance</option>
                          <option value="400 yards">400 yds</option>
                          <option value="400 meters">400 m</option>
                        </select>

                        <label class="select-inside-label" for="swimDistance">
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('required', 'swimDistance') && (form.submitted || swimprofile1Form.get('swimDistance').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'swimDistance') && (form.submitted || swimprofile1Form.get('swimDistance').touched)"></i>
                        </label>
                      </div>
                      <div class="col pl-2 mb-3">
                        <label class="inside-label" for="swimDistanceTime">
                          <span class="custom-tooltip" *ngIf="(swimprofile1Form.hasError('required', 'swimDistanceTime') || swimprofile1Form.hasError('minlength', 'swimDistanceTime')) && !swimprofile1Form.hasError('incorrect', 'swimDistanceTime') && (form.submitted || swimprofile1Form.get('swimDistanceTime').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('incorrect', 'swimDistanceTime') && (form.submitted || swimprofile1Form.get('swimDistanceTime').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              {{swimDistanceTimeError}}
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'swimDistanceTime') && !swimprofile1Form.hasError('minlength', 'swimDistanceTime') && !swimprofile1Form.hasError('incorrect', 'swimDistanceTime') && (form.submitted || swimprofile1Form.get('swimDistanceTime').touched)"></i>
                        </label>

                        <input type="text" class="form-control {{form.submitted ? swimprofile1Form.get('swimDistanceTime').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}"
                          [(ngModel)]="profile.swimDistanceTime"
                          formControlName="swimDistanceTime"
                          timeFormatMask>

                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <label for="">
                          How long ago did you start swimming competitively or for fitness?
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col pr-2 mb-3">

                        <input type="text"
                          class="form-control {{form.submitted ? swimprofile1Form.get('swimAgeYears').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}"
                          formControlName="swimAgeYears"
                          [(ngModel)]="swimAgeYears"
                          mask="00"
                          placeholder="years">

                        <label class="inside-label" for="swimAgeYears">
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('required', 'swimAgeYears') && swimprofile1Form.get('swimAgeYears').touched">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <span class="custom-tooltip" *ngIf="validateSwimAgeYears(swimAgeYears)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              Please Enter a value less than 60
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'swimAgeYears') && !validateSwimAgeYears(swimAgeYears) && (form.submitted || swimprofile1Form.get('swimAgeYears').touched)"></i>
                        </label>
                      </div>
                      <div class="col pl-2 mb-3">

                        <input type="text"
                          class="form-control {{form.submitted ? swimprofile1Form.get('swimAgeMonths').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}" 
                          formControlName="swimAgeMonths"
                          [(ngModel)]="swimAgeMonths"
                          mask="00"
                          placeholder="months">

                        <label class="inside-label" for="swimAgeMonths">
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('required', 'swimAgeMonths') && (form.submitted || swimprofile1Form.get('swimAgeMonths').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <span class="custom-tooltip" *ngIf="validateSwimAgeMonths(swimAgeMonths)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              Please Enter a value less than 12
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'swimAgeMonths') && !validateSwimAgeMonths(swimAgeMonths) && (form.submitted || swimprofile1Form.get('swimAgeMonths').touched)"></i>
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <label class="d-flex justify-content-between align-items-center">
                          How many training hours per week do you currently spend swimming?
                          <ng-template #swimmingTooltip>Not swimming? <br />Enter 00:00:00</ng-template>
                          <div [customTooltip]="swimmingTooltip"  [inlineSVG]="'../assets/img/svg/icons/helper-light.svg'" [autosize]="true" style="width: 20px;" class="mx-auto d-inline-block"></div>
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col mb-3">

                        <input type="text"
                          class="form-control {{form.submitted ? swimprofile1Form.get('weeklySwimHours').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}" 
                          [(ngModel)]="profile.swimHoursPerWeek"
                          formControlName="weeklySwimHours"
                          timeFormatMask includeHour="true">

                        <label class="inside-label" for="weeklySwimHours">
                          <span class="custom-tooltip" *ngIf="(swimprofile1Form.hasError('required', 'weeklySwimHours') || swimprofile1Form.hasError('minlength', 'weeklySwimHours')) && !swimprofile1Form.hasError('incorrect', 'weeklySwimHours') && (form.submitted || swimprofile1Form.get('weeklySwimHours').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('incorrect', 'weeklySwimHours') && (form.submitted || swimprofile1Form.get('weeklySwimHours').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              {{weeklySwimHoursError}}
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'weeklySwimHours') && !swimprofile1Form.hasError('minlength', 'weeklySwimHours') && !swimprofile1Form.hasError('incorrect', 'weeklySwimHours') && (form.submitted || swimprofile1Form.get('weeklySwimHours').touched)"></i>
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col">
                        <label for="">
                          What's your longest individual weekly swim training session?
                        </label>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col mb-3">

                        <input type="text"
                          class="form-control {{form.submitted ? swimprofile1Form.get('longestSwimSession').invalid ? 'border border-1 border-danger':'border border-1 border-success':''}}" 
                          [(ngModel)]="profile.swimDurationLongestSession"
                          formControlName="longestSwimSession"
                          timeFormatMask includeHour="true">

                        <label class="inside-label" for="longestSwimSession">
                          <span class="custom-tooltip" *ngIf="(swimprofile1Form.hasError('required', 'longestSwimSession') || swimprofile1Form.hasError('minlength', 'longestSwimSession')) && !swimprofile1Form.hasError('incorrect', 'longestSwimSession') && (form.submitted || swimprofile1Form.get('longestSwimSession').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              This is a required field
                            </span>
                          </span>
                          <span class="custom-tooltip" *ngIf="swimprofile1Form.hasError('incorrect', 'longestSwimSession') && (form.submitted || swimprofile1Form.get('longestSwimSession').touched)">
                            <i class="far fa-exclamation-circle text-danger cursor-pointer"></i>
                            <span class="custom-tooltiptext">
                              {{longestSwimSessionError}}
                            </span>
                          </span>
                          <i class="far fa-check-circle text-success" *ngIf="!swimprofile1Form.hasError('required', 'longestSwimSession') && !swimprofile1Form.hasError('minlength', 'longestSwimSession') && !swimprofile1Form.hasError('incorrect', 'longestSwimSession') && (form.submitted || swimprofile1Form.get('longestSwimSession').touched)"></i>
                        </label>
                      </div>
                    </div>
                    <div class="row mb-4 mt-2">
                      <div class="col">
                        <div class="progress btn-rounded">
                          <div class="progress-bar btn-rounded swim-bg" role="progressbar" style="width: 10%"
                            aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col pr-2">
                        <a [routerLink]="['/swim-profile-1']" class="btn-default btn btn-lg text-md btn-block">
                          Start Over
                        </a>
                      </div>
                      <div class="col pl-2">

                        <button class="btn-primary swim-bg btn btn-lg text-md btn-block"
                          (click)="continue(profile, swimprofile1Form.valid && !loading)">
                          Continue
                          <i class="fal fa-spinner fa-spin" *ngIf="loading"></i>
                        </button>

                      </div>
                    </div>
                    <div class="row justify-content-center pt-2">
                      <span class="badge badge-danger" *ngIf="errorMessage">{{errorMessage}}</span>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-xl-3">
        <!-- <app-dashboard-race-details></app-dashboard-race-details> -->
      </div>
    </div>
  </div>
</div>
